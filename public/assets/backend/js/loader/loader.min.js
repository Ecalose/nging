(function(e){var S={data:{},libs:{},staticURL:"",siteURL:"",assetsURL:ASSETS_URL};S.getValue=function(e,n){var t=e.split(".");var a=n[t.shift()];if(a===null)return"";for(var r=0,l=t.length;r<l;r++){a=a[t[r]];if(a===null)return""}return typeof a!=="undefined"&&a!==null?a:""};S.parseTmpl=function(e,t){return e.replace(/\{=([\w\.]*)=\}/g,function(e,n){return S.getValue(n,t)})};function U(e){e=e.split("?")[0];var n=String(e).lastIndexOf(".");if(n==-1)return"";return e.substring(n).toLowerCase()}S.include=function(e,n,t,a,r){if(n==null)n="head";if(t==null)t=true;if(n=="head"&&typeof S.data["include"]=="undefined"){var l=$("#js-lazyload-begin"),i=$("#css-lazyload-begin");S.data.include={before:{},after:{}};if(l.length>0){S.data.include.after.script=l}else{var s=$("#js-lazyload-end");if(s.length>0)S.data.include.before.script=s}if(i.length>0){S.data.include.after.link=i}else{var u=$("#css-lazyload-end");if(u.length>0)S.data.include.before.link=u}}$.ajaxSetup({cache:true});var f=typeof e=="string"?[e]:e;var c={success:0,failure:0,total:f.length};if(a||r){var d=setInterval(function(){if(c.success+c.failure<f.length)return;clearInterval(d);if(c.success>=f.length){a&&a()}else{r&&r()}},200)}for(var o=0;o<f.length;o++){var p=f[o].replace(/^\s|\s$/g,""),g=U(p),h=g=="css";var v=h?"link":"script";var y=h?' type="text/css" rel="stylesheet"':' type="text/javascript"';y+=' charset="utf-8" ';var b=(h?"href":"src")+"='"+p+"'";if(t&&$(v+"["+b+"]").length>0){c.success++;continue}var L=$("<"+v+y+b+"></"+v+">");var R=L[0];if(R.readyState){R.onreadystatechange=function(){if(R.readyState==="loaded"||R.readyState==="complete"){R.onreadystatechange=null;c.success++}}}else{R.onload=function(){c.success++}}if(n=="head"){if(typeof S.data.include.after[v]!="undefined"){S.data.include.after[v].after(L);c.success++;continue}if(typeof S.data.include.before[v]!="undefined"){S.data.include.before[v].before(L);c.success++;continue}}try{$(n).append(L);c.success++}catch(e){c.failure++;console.error(e.message);console.log(p)}}$.ajaxSetup({cache:false})};S.defined=function(e,n,t,a,r){if(e!="undefined"||n==null){if(n!=null&&t!=null)return t();return}if(typeof n=="string"&&typeof S.libs[n]!="undefined")n=S.libs[n];var l=a;if(t!=null){if($.isPlainObject(t)){if(typeof t["success"]!="undefined")l=t["success"];if(typeof t["error"]!="undefined")r=t["error"];else if(typeof t["failure"]!="undefined")r=t["failure"]}else if(a!=null){l=function(){a();t()}}else{l=t}}S.includes(n,true,l,r)};S.fullURL=function(e){var n=S.staticURL;if(e.substring(0,1)=="#"){n=S.assetsURL+"/js/";e=e.substring(1)}return n+e};S.includes=function(e,n,t,a){if(!e)return;switch(typeof e){case"string":S.include(S.fullURL(e),null,n,t,a);break;default:if(typeof e.length=="undefined")return;var r=[];for(var l=0;l<e.length;l++){r.push(S.fullURL(e[l]))}S.include(r,null,n,t,a)}};e.loader=S})(App);