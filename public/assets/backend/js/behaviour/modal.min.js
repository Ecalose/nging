(function(){function a(t,a,i,e){var o=t.find(".modal-body .nav-tabs>li");t.find(".modal-footer").removeClass("hidden");if(e==null)e=[0];o.on("click",function(){var a=o.index(this),i=false;for(var n=0;n<e.length;n++){if(a==e[n]){i=true;break}}if(i){t.find(".modal-footer").removeClass("hidden")}else{t.find(".modal-footer:not(.hidden)").addClass("hidden")}});t.find("table[data-page-size]").each(function(){d($(this),a,i)})}function d(n,t,e){if(!n||n.length<1)return;var o=n.data(),i=null;if(e){if(o.ajaxList&&o.ajaxList in e)e[o.ajaxList](n);if("onSwitchPage"in e)i=e["onSwitchPage"]}App.withPagination(o,null);n.after(o.pagination);if(!i){i=function(a){var i={ajaxList:o.ajaxList,page:a};i=$.extend(i,t||{});$.get(window.location.href,i,function(a){var i=n.parent();i.html(a);d(i.children("table[data-page-size]"),t,e)},"html")}}n.next("ul.pagination").find("li > a[page]").on("click",function(){if($(this).closest("li.disabled").length>0)return;i($(this).attr("page"))});n.next("ul.pagination").on("refresh",function(){var a=1;if($(this).data("page")){a=$(this).data("page");$(this).data("page",false)}else{a=$(this).find("li.active > a[page]").data("page")||1}i(a)})}App.initModalBody=a;App.initModalBodyPagination=d})();