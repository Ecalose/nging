(function(){function a(n,a,i,e){var d=n.find(".modal-body .nav-tabs>li");n.find(".modal-footer").removeClass("hidden");if(e==null)e=[0];d.on("click",function(){var a=d.index(this),i=false;for(var t=0;t<e.length;t++){if(a==e[t]){i=true;break}}if(i){n.find(".modal-footer").removeClass("hidden")}else{n.find(".modal-footer:not(.hidden)").addClass("hidden")}});n.find("table[data-page-size]").each(function(){o($(this),a,i)})}function o(t,n,e){if(!t||t.length<1)return;var d=t.data(),i=null;if(e){if(d.ajaxList&&d.ajaxList in e)e[d.ajaxList](t);if("switchPage"in e)i=e["switchPage"];if("data"in e)d=typeof e["data"]=="function"?e["data"](t):e["data"]}App.withPagination(d,null);t.after(d.pagination);if(!i){i=function(a){var i={ajaxList:d.ajaxList,page:a};i=$.extend(i,n||{});$.get(window.location.href,i,function(a){var i=t.parent();i.html(a);o(i.children("table[data-page-size]"),n,e)},"html")}}t.next("ul.pagination").find("li > a[page]").on("click",function(){if($(this).closest("li.disabled").length>0)return;i($(this).attr("page"))});t.next("ul.pagination").on("refresh",function(){var a=1;if($(this).data("page")){a=$(this).data("page");$(this).data("page",false)}else{a=$(this).find("li.active > a[page]").data("page")||1}i(a)})}App.initModalBody=a;App.initModalBodyPagination=o})();