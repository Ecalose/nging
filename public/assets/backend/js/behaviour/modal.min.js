(function(){function a(n,a,i,e){var o=n.find(".modal-body .nav-tabs>li");n.find(".modal-footer").removeClass("hidden");if(e==null)e=[0];o.on("click",function(){var a=o.index(this),i=false;for(var t=0;t<e.length;t++){if(a==e[t]){i=true;break}}if(i){n.find(".modal-footer").removeClass("hidden")}else{n.find(".modal-footer:not(.hidden)").addClass("hidden")}});n.find("table[data-page-size]").each(function(){d($(this),a,i)})}function d(t,n,e){if(!t||t.length<1)return;var o=t.data(),i=null;if(e){if(o.ajaxList&&o.ajaxList in e)e[o.ajaxList](t);if("switchPage"in e)i=e["switchPage"];if("pageData"in e)o=typeof e["pageData"]=="function"?e["pageData"](t):e["pageData"]}App.withPagination(o,null);t.after(o.pagination);if(!i){i=function(a){var i={ajaxList:o.ajaxList,page:a};i=$.extend(i,n||{});$.get(window.location.href,i,function(a){var i=t.parent();i.html(a);d(i.children("table[data-page-size]"),n,e)},"html")}}var a=t.next("ul.pagination");a.find("li > a[page]").on("click",function(){if($(this).closest("li.disabled").length>0)return;i($(this).attr("page"))});a.on("refresh",function(){var a=1;if($(this).data("page")){a=$(this).data("page");$(this).data("page",false)}else{a=$(this).find("li.active > a[page]").data("page")||1}i(a)})}App.initModalBody=a;App.initModalBodyPagination=d})();