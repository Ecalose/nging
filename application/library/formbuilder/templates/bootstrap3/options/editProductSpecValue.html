{{define "main"}}{{$p := .}}
<div class="form-group product-spec">
{{if .label}}
<div class="col-sm-2{{ if $p.labelClasses }}{{range $p.labelClasses}} {{.}}{{end}}{{end}}">
    <input type="text" name="spec[name][]" data-spec-id="{{$p.specId}}" class="form-control text-right" value="{{.label}}" onchange="changeProductSpecName(this);"{{if $p.params}}{{range $k2, $v2 := $p.params}} {{$k2}}="{{$v2}}"{{end}}{{end}}>
    <input type="hidden" name="spec[id][]" value="{{$p.specId}}">
</div>
{{end}}
<div class="col-sm-10">
    <ul class="spec-list clearfix">
        {{range .choices}}
        <li>
	        <span class="input-group">
		        <label class="input-group-addon"><input type="checkbox" name="spec[value][check][{{$p.specId}}][]" class="ace" value="{{.Id}}"{{if .Checked}} checked="checked"{{end}} onclick="selectProductSpecValue(this);" data-spec-id="{{$p.specId}}"{{if $p.params}}{{range $k2, $v2 := $p.params}} {{$k2}}="{{$v2}}"{{end}}{{end}}><span class="lbl"></span></label>
		        <input type="text" name="spec[value][name][{{$p.specId}}][]" class="form-control" value="{{.Val}}" data-spec-id="{{$p.specId}}" data-spec-vid="{{.Id}}" onchange="changeProductSpecValueName(this);"{{if $p.params}}{{range $k2, $v2 := $p.params}} {{$k2}}="{{$v2}}"{{end}}{{end}}>
	        </span>
        </li>
        {{end}}
        <li>
            <span class="input-group">
                <input type="text" class="form-control">
                <span class="input-group-btn"><a href="javascript:;" onclick="addProductSpecValue(this);" data-name-attr="spec[value][name][{{$p.specId}}][]" data-spec-id="{{$p.specId}}" class="btn btn-sm btn-success"><i class="fa fa-plus"></i></a></span>
            </span>
        </li>
    </ul>

{{if or .helptext .errors}}<div class="help-block">{{if .helptext}}{{.helptext | ToHTML}}{{end}}
{{if .errors}}<ul>{{range .errors}}<li>{{.}}</li>{{end}}</ul>{{end}}</div>{{end}}
</div>
</div>{{end}}
